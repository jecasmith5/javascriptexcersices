<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script>
    var mediaTypes =["text/plain",  "text/html","application/json","application/rainbows+unicorns"];
        //added rainbows and unicorns
    function diffTypes(mediaType) {
          var req = new XMLHttpRequest();
          req.open("GET", "http://eloquentjavascript.net/author", true);
          req.setRequestHeader("Accept",mediaType);
          req.send(null);
      	  return req.responseText;
        }
        mediaTypes.forEach(function(mediaType){
          console.log(diffTypes(mediaType));
        });




// this code doesnt work
    	// function output(diffTypes){
    	//    for(var i = 0;i<mediaTypes.length;i++){
      //     var type=mediaTypes[i];
      //    console.log(mediaTypes , diffTypes(type));
      //   }
      // };
      // diffTypes(mediaTypes[0]);
      // output(diffTypes);


    // function diffTypes(mediaTypes) {
    //   var req = new XMLHttpRequest();
    //   req.open("GET", "eloquentjavascript.net/author", false);
    //   req.setRequestHeader("Accept",mediaTypes);
    //   req.send(null);
    //   return req.responseText;
    // };
    // var mediaTypes =["text/plain",  "text/html","application/json"];
    // console.log(diffTypes,mediaTypes[0]);
    </script>

  </head>
  <body>

  </body>
</html>




 <!-- tasks:

 accept header that can be used to tll server what kind of type the socument the client wants

 media types text/plain, text/html, and application/json.

 Send requests to fetch all three formats of this resource.
 Use the setRequestHeader method of your XMLHttpRequest object to set the header named Accept to one of the media types given earlier
 Make sure you set the header after calling open but before calling send.

 try asking for the media type application/rainbows+unicorns and see what happens. -->
